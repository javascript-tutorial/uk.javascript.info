# –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤: onload —Ç–∞ onerror

–ë—Ä–∞—É–∑–µ—Ä –¥–æ–∑–≤–æ–ª—è—î –Ω–∞–º –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ -- —Å–∫—Ä–∏–ø—Ç—ñ–≤, —Ñ—Ä–µ–π–º—ñ–≤, –∑–æ–±—Ä–∞–∂–µ–Ω—å —Ç–æ—â–æ.

–î–ª—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–æ –¥–≤—ñ –ø–æ–¥—ñ—ó:

- `onload` -- —É—Å–ø—ñ—à–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è,
- `onerror` -- –≤–∏—è–≤–ª–µ–Ω–æ –ø–æ–º–∏–ª–∫—É.

## –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞

–°–∫–∞–∂—ñ–º–æ, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–π —Å–∫—Ä–∏–ø—Ç —ñ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ —Ç–∞–º –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è.

–ú–∏ –º–æ–∂–µ–º–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –π–æ–≥–æ –¥–∏–Ω–∞–º—ñ—á–Ω–æ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```js
let script = document.createElement('script');
script.src = "my.js";

document.head.append(script);
```

...–ê–ª–µ —è–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, –æ–≥–æ–ª–æ—à–µ–Ω—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü—å–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞? –ù–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—á–µ–∫–∞—Ç–∏, –ø–æ–∫–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è, —ñ —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ –º–∏ –∑–º–æ–∂–µ–º–æ —ó—ó –≤–∏–∫–ª–∏–∫–∞—Ç–∏.

```smart
–î–ª—è –Ω–∞—à–∏—Ö –≤–ª–∞—Å–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç—ñ–≤ –º–∏ –º–æ–≥–ª–∏ –± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ [–º–æ–¥—É–ª—ñ JavaScript](info:modules), –∞–ª–µ –≤–æ–Ω–∏ –Ω–µ –Ω–∞–±—É–ª–∏ —à–∏—Ä–æ–∫–æ–≥–æ –ø–æ—à–∏—Ä–µ–Ω–Ω—è —É —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ö.
```

### script.onload

–û—Å–Ω–æ–≤–Ω–∏–º –ø–æ–º—ñ—á–Ω–∏–∫–æ–º —î –ø–æ–¥—ñ—è `load`. –í–æ–Ω–∞ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥:

```js run untrusted
let script = document.createElement('script');

// –º–æ–∂–µ–º–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫–∏–π —Å–∫—Ä–∏–ø—Ç –∑ –±—É–¥—å-—è–∫–æ–≥–æ –¥–æ–º–µ–Ω—É
script.src = "https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.3.0/lodash.js"
document.head.append(script);

*!*
script.onload = function() {
  // —Å–∫—Ä–∏–ø—Ç —Å—Ç–≤–æ—Ä—é—î –∑–º—ñ–Ω–Ω—É "_"
  alert( _.VERSION ); // –ø–æ–∫–∞–∑—É—î –≤–µ—Ä—Å—ñ—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
};
*/!*
```

–¢–æ–∂ —É `onload` –º–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∞, –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–æ—â–æ.

...–ê —è–∫—â–æ –Ω–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏? –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç–∞–∫–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä—ñ—é –Ω–µ–º–∞—î (–ø–æ–º–∏–ª–∫–∞ 404) –∞–±–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø—Ä–∞—Ü—é—î (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π).

### script.onerror

–ü–æ–º–∏–ª–∫–∏, —è–∫—ñ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—ñ–¥ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞, –º–æ–∂–Ω–∞ –≤—ñ–¥—Å—Ç–µ–∂–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–æ–¥—ñ—ó `error`.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–∞–≤–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å–∏–º–æ —Å–∫—Ä–∏–ø—Ç, —è–∫–æ–≥–æ –Ω–µ —ñ—Å–Ω—É—î:

```js run
let script = document.createElement('script');
script.src = "https://example.com/404.js"; // –Ω–µ–º–∞—î —Ç–∞–∫–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
document.head.append(script);

*!*
script.onerror = function() {
  alert("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è " + this.src); // –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è https://example.com/404.js
};
*/!*
```

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ –ø—Ä–æ –ø–æ–º–∏–ª–∫—É HTTP —Ç—É—Ç. –ú–∏ –Ω–µ –∑–Ω–∞—î–º–æ, —á–∏ –±—É–ª–∞ —Ü–µ –ø–æ–º–∏–ª–∫–∞ 404 —á–∏ 500 —á–∏ —â–æ—Å—å —ñ–Ω—à–µ. –ü—Ä–æ—Å—Ç–æ –Ω–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏.

```warn
–ü–æ–¥—ñ—ó `onload`/`onerror` –≤—ñ–¥—Å—Ç–µ–∂—É—é—Ç—å –ª–∏—à–µ —Å–∞–º–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

–ü–æ–º–∏–ª–∫–∏, —è–∫—ñ –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏ —Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞, –≤–∏—Ö–æ–¥—è—Ç—å –∑–∞ —Ä–∞–º–∫–∏ —Ü–∏—Ö –ø–æ–¥—ñ–π. –¢–æ–±—Ç–æ: —è–∫—â–æ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ, —Ç–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è `onload`, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤ –Ω—å–æ–º—É —î –ø–æ–º–∏–ª–∫–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è. –©–æ–± –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –ø–æ–º–∏–ª–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞, –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ `window.onerror`.
```

## –Ü–Ω—à—ñ —Ä–µ—Å—É—Ä—Å–∏

–ü–æ–¥—ñ—ó `load` —Ç–∞ `error` —Ç–∞–∫–æ–∂ –ø—Ä–∞—Ü—é—é—Ç—å –¥–ª—è —ñ–Ω—à–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É –¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É, —è–∫–∏–π –º–∞—î –∑–æ–≤–Ω—ñ—à–Ω—ñ–π `src`.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥:

```js run
let img = document.createElement('img');
img.src = "https://js.cx/clipart/train.gif"; // (*)

img.onload = function() {
  alert(`–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ, —Ä–æ–∑–º—ñ—Ä ${img.width}x${img.height}`);
};

img.onerror = function() {
  alert("–ü—ñ–¥ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞");
};
```

–•–æ—á–∞ —î –¥–µ—è–∫—ñ –ø—Ä–∏–º—ñ—Ç–∫–∏:

- –ë—ñ–ª—å—à—ñ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ñ–≤ –ø–æ—á–∏–Ω–∞—é—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏—Å—è, –∫–æ–ª–∏ –≤–æ–Ω–∏ –¥–æ–¥–∞—é—Ç—å—Å—è –¥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞. –ê–ª–µ `<img>` —î –≤–∏–Ω—è—Ç–∫–æ–º. –í—ñ–Ω –ø–æ—á–∏–Ω–∞—î –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏—Å—è, –∫–æ–ª–∏ –æ—Ç—Ä–∏–º—É—î src `(*)`.
- –î–ª—è `<iframe>` –ø–æ–¥—ñ—è `iframe.onload` –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è iframe, —è–∫ –¥–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —Ç–∞–∫ —ñ –≤ —Ä–∞–∑—ñ –ø–æ–º–∏–ª–∫–∏.

–¶–µ –æ–±—É–º–æ–≤–ª–µ–Ω–æ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏–º–∏ –ø—Ä–∏—á–∏–Ω–∞–º–∏.

## –ü–æ–ª—ñ—Ç–∏–∫–∞ –∫—Ä–æ—Å–¥–æ–º–µ–Ω–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

–Ü—Å–Ω—É—î –ø—Ä–∞–≤–∏–ª–æ: —Å–∫—Ä–∏–ø—Ç–∏ –∑ –æ–¥–Ω–æ–≥–æ —Å–∞–π—Ç—É –Ω–µ –º–æ–∂—É—Ç—å –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≤–º—ñ—Å—Ç—É —ñ–Ω—à–æ–≥–æ —Å–∞–π—Ç—É. –û—Ç–∂–µ, –Ω–∞–ø—Ä. —Å–∫—Ä–∏–ø—Ç –Ω–∞ `https://facebook.com` –Ω–µ –º–æ–∂–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –ø–æ—à—Ç–æ–≤—É —Å–∫—Ä–∏–Ω—å–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞ `https://gmail.com`.

–ê–±–æ, —è–∫—â–æ –±—É—Ç–∏ –±—ñ–ª—å—à —Ç–æ—á–Ω–∏–º, –æ–¥–Ω–µ –¥–∂–µ—Ä–µ–ª–æ (—Ç—Ä–∏–ø–ª–µ—Ç –¥–æ–º–µ–Ω—É/–ø–æ—Ä—Ç—É/–ø—Ä–æ—Ç–æ–∫–æ–ª—É) –Ω–µ –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≤–º—ñ—Å—Ç—É –∑ —ñ–Ω—à–æ–≥–æ. –¢–æ–º—É –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —É –Ω–∞—Å —î —Å—É–±–¥–æ–º–µ–Ω –∞–±–æ –ø—Ä–æ—Å—Ç–æ —ñ–Ω—à–∏–π –ø–æ—Ä—Ç, —Ü–µ —Ä—ñ–∑–Ω—ñ –¥–∂–µ—Ä–µ–ª–∞ –±–µ–∑ –¥–æ—Å—Ç—É–ø—É –æ–¥–∏–Ω –¥–æ –æ–¥–Ω–æ–≥–æ. 

–¶–µ –ø—Ä–∞–≤–∏–ª–æ —Ç–∞–∫–æ–∂ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏ –∑ —ñ–Ω—à–∏—Ö –¥–æ–º–µ–Ω—ñ–≤.

–Ø–∫—â–æ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å–∫—Ä–∏–ø—Ç –∑ —ñ–Ω—à–æ–≥–æ –¥–æ–º–µ–Ω—É, —ñ –≤ –Ω—å–æ–º—É —î –ø–æ–º–∏–ª–∫–∞, –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ –ø—Ä–æ –Ω–µ—ó.

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–∑—å–º–µ–º–æ —Å–∫—Ä–∏–ø—Ç `error.js`, —è–∫–∏–π —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –æ–¥–Ω–æ–≥–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ) –≤–∏–∫–ª–∏–∫—É —Ñ—É–Ω–∫—Ü—ñ—ó:
```js
// üìÅ error.js
noSuchFunction();
```

–¢–µ–ø–µ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –π–æ–≥–æ –∑ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ —Å–∞–π—Ç—É, –¥–µ –≤—ñ–Ω —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∏–π:

```html run height=0
<script>
window.onerror = function(message, url, line, col, errorObj) {
  alert(`${message}\n${url}, ${line}:${col}`);
};
</script>
<script src="/article/onload-onerror/crossorigin/error.js"></script>
```

–ú–∏ –º–æ–∂–µ–º–æ –ø–æ–±–∞—á–∏—Ç–∏ —Ö–æ—Ä–æ—à–∏–π –∑–≤—ñ—Ç –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```
Uncaught ReferenceError: noSuchFunction is not defined
https://javascript.info/article/onload-onerror/crossorigin/error.js, 1:1
```

–¢–µ–ø–µ—Ä –¥–∞–≤–∞–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–º–æ —Ç–æ–π —Å–∞–º–∏–π —Å–∫—Ä–∏–ø—Ç –∑ —ñ–Ω—à–æ–≥–æ –¥–æ–º–µ–Ω—É:

```html run height=0
<script>
window.onerror = function(message, url, line, col, errorObj) {
  alert(`${message}\n${url}, ${line}:${col}`);
};
</script>
<script src="https://cors.javascript.info/article/onload-onerror/crossorigin/error.js"></script>
```

–ó–≤—ñ—Ç –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```
Script error.
, 0:0
```

–î–µ—Ç–∞–ª—ñ –º–æ–∂—É—Ç—å –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –±—Ä–∞—É–∑–µ—Ä–∞, –∞–ª–µ —ñ–¥–µ—è –æ–¥–Ω–∞: –±—É–¥—å-—è–∫–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∞, –≤–∫–ª—é—á–∞—é—á–∏ —Ç—Ä–∞—Å—É–≤–∞–Ω–Ω—è —Å—Ç–µ–∫—É –ø–æ–º–∏–ª–æ–∫, –ø—Ä–∏—Ö–æ–≤–∞–Ω–∞. –°–∞–º–µ —Ç–æ–º—É, —â–æ –≤—ñ–Ω –∑ —ñ–Ω—à–æ–≥–æ –¥–æ–º–µ–Ω—É.

–ù–∞–≤—ñ—â–æ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ –ø—Ä–æ –ø–æ–º–∏–ª–∫—É?

–Ü—Å–Ω—É—î –±–∞–≥–∞—Ç–æ —Å–µ—Ä–≤—ñ—Å—ñ–≤ (—ñ –º–∏ –º–æ–∂–µ–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω—ñ), —è–∫—ñ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É—é—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `window.onerror`, –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –Ω–∞–¥–∞—é—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ—Å—Ç—É–ø—É —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É –¥–æ –Ω–∏—Ö. –¶–µ —á—É–¥–æ–≤–æ, –æ—Å–∫—ñ–ª—å–∫–∏ –º–∏ –±–∞—á–∏–º–æ —Ä–µ–∞–ª—å–Ω—ñ –ø–æ–º–∏–ª–∫–∏, —Å–ø—Ä–∏—á–∏–Ω–µ–Ω—ñ –Ω–∞—à–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏. –ê–ª–µ —è–∫—â–æ —Å–∫—Ä–∏–ø—Ç –ø–æ—Ö–æ–¥–∏—Ç—å –∑ —ñ–Ω—à–æ–≥–æ –¥–∂–µ—Ä–µ–ª–∞, —Ç–æ –≤ –Ω—å–æ–º—É –Ω–µ —Ç–∞–∫ –±–∞–≥–∞—Ç–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏, —è–∫ –º–∏ —â–æ–π–Ω–æ –±–∞—á–∏–ª–∏.

–ü–æ–¥—ñ–±–Ω–∞ –ø–æ–ª—ñ—Ç–∏–∫–∞ –∫—Ä–æ—Å–¥–æ–º–µ–Ω–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ (CORS) –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è —ñ –¥–ª—è —ñ–Ω—à–∏—Ö —Ç–∏–ø—ñ–≤ —Ä–µ—Å—É—Ä—Å—ñ–≤.

**–©–æ–± –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –¥–æ—Å—Ç—É–ø —ñ–∑ —Ä—ñ–∑–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª, —Ç–µ–≥ `<script>` –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –∞—Ç—Ä–∏–±—É—Ç `crossorigin`, –∞ —Ç–∞–∫–æ–∂ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –ø–æ–≤–∏–Ω–µ–Ω –Ω–∞–¥–∞–≤–∞—Ç–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏.**

–Ü—Å–Ω—É—î —Ç—Ä–∏ —Ä—ñ–≤–Ω—ñ –∫—Ä–æ—Å–¥–æ–º–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É:

1. **–ù–µ–º–∞—î –∞—Ç—Ä–∏–±—É—Ç–∞ `crossorigin`** -- –¥–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ.
2. **`crossorigin="anonymous"`** -- –¥–æ—Å—Ç—É–ø –¥–æ–∑–≤–æ–ª–µ–Ω–∏–π, —è–∫—â–æ —Å–µ—Ä–≤–µ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —ñ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `Access-Control-Allow-Origin` –∑ `*` –∞–±–æ –Ω–∞—à–∏–º –¥–∂–µ—Ä–µ–ª–æ–º. –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –Ω–∞–¥—Å–∏–ª–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é —Ç–∞ —Ñ–∞–π–ª–∏ cookie –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π —Å–µ—Ä–≤–µ—Ä.
3. **`crossorigin="use-credentials"`** -- –¥–æ—Å—Ç—É–ø –¥–æ–∑–≤–æ–ª–µ–Ω–∏–π, —è–∫—â–æ —Å–µ—Ä–≤–µ—Ä –Ω–∞–¥—Å–∏–ª–∞—î –Ω–∞–∑–∞–¥ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Access-Control-Allow-Origin` –∑ –Ω–∞—à–∏–º –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è–º —Ç–∞ `Access-Control-Allow-Credentials: true`. –ë—Ä–∞—É–∑–µ—Ä –Ω–∞–¥—Å–∏–ª–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é —Ç–∞ —Ñ–∞–π–ª–∏ cookie –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π —Å–µ—Ä–≤–µ—Ä.

```smart
–í–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –±—ñ–ª—å—à–µ –ø—Ä–æ –¥–æ—Å—Ç—É–ø —ñ–∑ —Ä—ñ–∑–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª —É —Ä–æ–∑–¥—ñ–ª—ñ <info:fetch-crossorigin>. –í—ñ–Ω –æ–ø–∏—Å—É—î –º–µ—Ç–æ–¥ `fetch` –¥–ª—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤, –∞–ª–µ –ø–æ–ª—ñ—Ç–∏–∫–∞ —Ç–æ—á–Ω–æ —Ç–∞–∫–∞ –∂.

–¢–∞–∫–µ –ø–æ–Ω—è—Ç—Ç—è, —è–∫ "cookies" –Ω–µ –≤—Ö–æ–¥–∏—Ç—å –¥–æ –Ω–∞—à–æ—ó –ø–æ—Ç–æ—á–Ω–æ—ó —Ç–µ–º–∏, –∞–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –ø—Ä–æ –Ω–∏—Ö —É —Ä–æ–∑–¥—ñ–ª—ñ <info:cookie>.
```

–£ –Ω–∞—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –º–∏ –Ω–µ –º–∞–ª–∏ –∞—Ç—Ä–∏–±—É—Ç–∞ crossorigin. –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –∫—Ä–æ—Å–¥–æ–º–µ–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø –±—É–≤ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏–π. –î–æ–¥–∞–π–º–æ –π–æ–≥–æ.

–ú–∏ –º–æ–∂–µ–º–æ –≤–∏–±–∏—Ä–∞—Ç–∏ –º—ñ–∂ `"anonymous"` (—Ñ–∞–π–ª–∏ cookie –Ω–µ –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å—Å—è, –ø–æ—Ç—Ä—ñ–±–µ–Ω –æ–¥–∏–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∞) —Ç–∞ `"use-credentials"` (–Ω–∞–¥—Å–∏–ª–∞—î —Ñ–∞–π–ª–∏ cookie, –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–≤–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∞).

–Ø–∫—â–æ –Ω–∞–º –Ω–µ –≤–∞–∂–ª–∏–≤—ñ —Ñ–∞–π–ª–∏ cookie, —Ç–æ –Ω–∞–º –ø—ñ–¥—ñ–π–¥–µ `"anonymous"`:

```html run height=0
<script>
window.onerror = function(message, url, line, col, errorObj) {
  alert(`${message}\n${url}, ${line}:${col}`);
};
</script>
<script *!*crossorigin="anonymous"*/!* src="https://cors.javascript.info/article/onload-onerror/crossorigin/error.js"></script>
```

–¢–µ–ø–µ—Ä, —è–∫—â–æ –ø—Ä–∏–ø—É—Å—Ç–∏—Ç–∏, —â–æ —Å–µ—Ä–≤–µ—Ä –Ω–∞–¥–∞—î –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Access-Control-Allow-Origin`, –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫—É. –£ –Ω–∞—Å —î –ø–æ–≤–Ω–∏–π –∑–≤—ñ—Ç –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏.

## –ü—ñ–¥—Å—É–º–∫–∏

–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è `<img>`, –∑–æ–≤–Ω—ñ—à–Ω—ñ —Å—Ç–∏–ª—ñ, —Å–∫—Ä–∏–ø—Ç–∏ —Ç–∞ —ñ–Ω—à—ñ —Ä–µ—Å—É—Ä—Å–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –ø–æ–¥—ñ—ó `load` —Ç–∞ `error` –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —ó—Ö –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:

- `load` —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –ø—Ä–∏ —É—Å–ø—ñ—à–Ω–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ,
- `error` —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –ø—Ä–∏ –Ω–µ–≤–¥–∞–ª–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ.

–Ñ–¥–∏–Ω–∏–º –≤–∏–Ω—è—Ç–∫–æ–º —î `<iframe>`: –∑ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –ø—Ä–∏—á–∏–Ω –≤—ñ–Ω –∑–∞–≤–∂–¥–∏ –∑–∞–ø—É—Å–∫–∞—î `load` –¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞.

–ü–æ–¥—ñ—è `readystatechange` —Ç–∞–∫–æ–∂ –ø—Ä–∞—Ü—é—î –¥–ª—è —Ä–µ—Å—É—Ä—Å—ñ–≤, –∞–ª–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ä—ñ–¥–∫–æ, –æ—Å–∫—ñ–ª—å–∫–∏ –ø–æ–¥—ñ—ó `load/error` –ø—Ä–æ—Å—Ç—ñ—à—ñ.
